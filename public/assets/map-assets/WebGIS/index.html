<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Judul pada tab browser -->
    <title>Peta Sarana Prasarana Kalurahan Ngargosari</title>
    <!-- Metadata -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="NgargoGIS">
    <meta name="author" content="Pengabidan SIG UGM">
    <link rel="shortcut icon" href="assets/img/logo/favicon.png" />

    <!-- Leaflet CSS Library -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
	<link rel="stylesheet" href="../Plugin/libs/leaflet/leaflet.css">
	<link rel="stylesheet" href="../Plugin/fontawesome 5.15.4/all.css">

	<link rel="stylesheet" href="../Plugin/libs/leaflet-search/leaflet-search.src.css" />
	<link rel="stylesheet" href="../Plugin/libs/leaflet-search2/leaflet-search.css">
	<link rel="stylesheet" href="../Plugin/libs/leaflet-locatecontrol/L.Control.Locate.min.css" />
	<link rel="stylesheet" href="../Plugin/libs/leaflet/Control.Geocoder.css" />
	<link rel="stylesheet" href="../Plugin/libs/leaflet-mouseposition/L.Control.MousePosition.css" />
	<link rel="stylesheet" type="text/css"
		href="https://rawgit.com/MarcChasse/leaflet.ScaleFactor/master/leaflet.scalefactor.min.css">
	<link rel="stylesheet" href="../Plugin/libs/leaflet-minimap/Control.MiniMap.css" />
	<link rel="stylesheet" href="../Plugin/libs/leaflet-easybutton-master/easy-button.css" />
    <style>
        /* Tampilan peta fullscreen */
        html,
        body,
        #map {
            height: 98%;
            width: 100%;
        }

        #legenda {
            position: absolute;
            margin-bottom: -5px;
            bottom: 1px;
            left: 0px;
            padding: 10px;
            z-index: 700;
        }

        /* Background pada Judul */
        *.info {
            padding: 6px 8px;
            font: 12px/14px Arial, Helvetica, sans-serif;
            background: white;
            background: rgba(255, 255, 255, 0.8);
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);
            border-radius: 5px;
            text-align: center;
        }

        .info h4 {
            margin: 0 0 5px;
            color: rgb(0, 0, 0);
            font-weight: 600;
        }
    </style>
</head>

<body>
    <!--font awesome -->
	<script src="../Plugin/fontawesome 5.15.4/all.js"></script>
	<!-- Leaflet JavaScript Library -->
	<script src="https://unpkg.com/leaflet@ 1.5.1/dist/leaflet.js"></script>

	<!-- leaflet js plugin -->
	<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
	<script src="../Plugin/libs/leaflet/leaflet.js"></script>
	<script src="../Plugin/libs/leaflet/leaflet-src.js"></script>
	<script src="../Plugin/libs/leaflet-search/leaflet-search.src.js"></script>
	<script src="../Plugin/libs/leaflet-search2/leaflet-search.js"></script>
	<script src="../Plugin/libs/fuse/fuse.js"></script>
	<script src="../Plugin/libs/leaflet/Control.Geocoder.js"></script>
	<script src="../Plugin/libs/leaflet-locatecontrol/L.Control.Locate.min.js"></script>
	<script src="../Plugin/libs/leaflet-browser-print-master/leaflet.browser.print.js"></script>
	<script src="../Plugin/libs/leaflet-browser-print-master/leaflet.browser.print.utils.js"></script>
	<script src="../Plugin/libs/leaflet-browser-print-master/leaflet.browser.print.sizes.js"></script>
	<script src="../Plugin/libs/leaflet-minimap/Control.MiniMap.js" type="text/javascript"></script>
	<script src="../Plugin/libs/esri-leaflet/esri-leaflet-debug.js"></script>
	<script src="../Plugin/libs/leaflet-easybutton-master/easy-button.js"></script>
	<script src="../Plugin/libs/leaflet-mouseposition/L.Control.MousePosition.js"></script>
	<script src="https://rawgit.com/MarcChasse/leaflet.ScaleFactor/master/leaflet.scalefactor.min.js"></script>
	<script src="../Plugin/js_map/Autolinker.min.js"></script>

    <!--Navbar-->
    <nav class="navbar navbar-expand-lg navbar-light"
        style="background: linear-gradient(to right, #21a035 0%, #63f91b 100%);">
        <a class="navbar-brand" href="../../index.html" style="color: white; font-weight: 500;">
            <img src="assets/img/logo/favicon.png" width="25">
            NgargoGIS
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse flex-row-reverse" id="navbarSupportedContent">
            <ul class="navbar-nav">
                <li class="nav-item" style="padding-top: 5px; padding-bottom: 5px; line-height: 20px;">
                    <a class="nav-link" href="#" font-weight: 500;><i class="fas fa-user-tie" style="color: black;"></i>
                        Login</a>
                </li>
            </ul>
        </div>
    </nav>

    <div class="btn-group dropup" id="legenda"> <button class="btn btn-light dropdown-toggle" type="button"
            id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expande d="false"
            style="font-size:small;">
            Legenda </button>
        <div class="dropdown-menu pre-scrollable" style="height: 235px; font-size: small;"
            aria-labelledby="dropdownMenuButton">
            <span class="badge badge-success" style="margin-left: 9px; font-size:  small;">Fasilitas Umum</span>
            <a class="dropdown-item"><img src="assets/img/legend/kantorpemerintah.png" height='18' width='18' /> Kantor
                Pemerintahan</a>
            <a class="dropdown-item"><img src="assets/img/legend/kesehatan.png" height='18' width='18' />
                Kesehatan</a>
            <a class="dropdown-item"><img src="assets/img/legend/pendidikan.png" height='18' width='18' />
                Pendidikan</a>
            <a class="dropdown-item"><img src="assets/img/legend/masjid.png" height='18' width='18' />
                Masjid</a>
            <a class="dropdown-item"><img src="assets/img/legend/gereja.png" height='18' width='18' />
                Gereja</a>
            <a class="dropdown-item"><img src="assets/img/legend/industri.png" height='18' width='18' />
                Industri</a>
            <a class="dropdown-item"><img src="assets/img/legend/jasa.png" height='18' width='18' />
                Jasa</a>
            <a class="dropdown-item"><img src="assets/img/legend/pdj.png" height='18' width='18' />
                Perdagangan dan Jasa</a>
            <a class="dropdown-item"><img src="assets/img/legend/toko.png" height='18' width='18' />
                Toko</a>
            <a class="dropdown-item"><img src="assets/img/legend/pemancingan.png" height='18' width='18' />
                Pemancingan</a>
            <a class="dropdown-item"><img src="assets/img/legend/rumahmakan.png" height='18' width='18' />
                Rumah Makan</a>
            <a class="dropdown-item"><img src="assets/img/legend/warung.png" height='18' width='18' />
                Warung</a>
            <a class="dropdown-item"><img src="assets/img/legend/wisata.png" height='18' width='18' />
                Wisata</a>
            <a class="dropdown-item"><img src="assets/img/legend/mataair.png" height='18' width='18' />
                Mata Air</a>
            <a class="dropdown-item"><img src="assets/img/legend/tower.png" height='18' width='18' />
                Tower</a>
            <a class="dropdown-item"><img src="assets/img/legend/makam.png" height='18' width='18' />
                Makam</a>
            <a class="dropdown-item"><img src="assets/img/legend/kebuncampur.png" height='18' width='18' />
                Kebun Campur</a>
            <a class="dropdown-item"><img src="assets/img/legend/kebunteh.png" height='18' width='18' />
                Kebun Teh</a>
            <a class="dropdown-item"><img src="assets/img/legend/lahanterbuka.png" height='18' width='18' />
                Lahan Terbuka</a>
            <span class="badge badge-success"
                style="margin-left: 9px;font-size: small; margin-bottom: 6px; margin-top: 6px;">Batas Administrasi</span>
                <a class="dropdown-item"><img src="assets/img/legend/batasadmin.png" height='18' width='18' />
                    Batas Padukuhan</a>
            <span class="badge badge-success"
                style="margin-left: 9px;font-size: small; margin-bottom: 6px; margin-top: 6px;">Jaringan
                Jalan</span>
            <a class="dropdown-item"><img src="assets/img/legend/jalanlokal.png" height='18' width='18' />
                Jalan Lokal</a>
            <a class="dropdown-item"><img src="assets/img/legend/jalanlain.png" height='18' width='18' />
                Jalan Lain</a>
            <a class="dropdown-item"><img src="assets/img/legend/jalansetapak.png" height='18' width='18' />
                Jalan Setapak</a>
        </div>
    </div>

    <div id="map"></div>
    <script>
        /* Initial Map */
        var map = L.map('map', {
            zoomControl: false,
            maxZoom: 30,
            minZoom: 1
        }).setView([-7.6618579, 110.1570273], 14);
        /* Judul dan Subjudul */
        var title = new L.Control();
        title.onAdd = function (map) {
            this._div = L.DomUtil.create('div', 'info');
            this.update();
            return this._div;
        };
        title.update = function () {
            this._div.innerHTML =
                '<h4>PETA SARANA PRASARANA KALURAHAN NGARGOSARI</h4>DIBUAT: TIM PENGABDIAN SIG UGM'
        };
        title.addTo(map);

        var zoomBar = L.easyBar([
            L.easyButton('<big>+</big>', function (control, map) {
                map.setZoom(map.getZoom() + 1);
            }),
            // L.easyButton('fa-home fa-lg', function (control, map) {
            //     map.setView([-7.6618579, 110.1570273], 14);
            // }),
            L.easyButton('fa-home fa-lg', function (control, map) {
                map.fitBounds(BatasDukuh.getBounds());
            }),
            L.easyButton('<big>-</big>', function (control, map) {
                map.setZoom(map.getZoom() - 1);
            }),
        ]);
        zoomBar.addTo(map);

        /* Geolocation Plugin  */
		var locateControl = L.control.locate({
			position: "topleft",
			drawCircle: true,
			follow: true,
			setView: true,
			keepCurrentZoomLevel: false,
			markerStyle: {
				weight: 1,
				opacity: 0.8,
				fillOpacity: 0.8,
			},
			circleStyle: {
				weight: 1,
				clickable: false,
			},
			icon: "fas fa-map-marker-alt",
			metric: true,
			strings: {
				title: "Click for Your Location",
				popoup: "You're here. Accuracy {distance} {unit}",
				outsideMapBoundsMsg: "Not Available"
			},
			locateOptions: {
				maxZoom: 16,
				watch: true,
				enableHighAccuracy: true,
				maximumAge: 10000,
				timeout: 10000
			},
		}).addTo(map);


        var geocoder = L.Control.Geocoder.nominatim({
                geocodingQueryParams: {
                    countrycodes: 'id'
                }
            }),
            control = L.Control.geocoder({
                geocoder: geocoder,
                collapsed: true,
                position: 'topleft',
                text: 'Cari Lokasi...',
                title: 'Cari'
            }).addTo(map);

        L.control.browserPrint({
            closePopupsOnPrint: false,
            printModes: [
                L.control.browserPrint.mode.landscape("Tabloid", "Tabloid"),
                L.control.browserPrint.mode.landscape(),
                L.control.browserPrint.mode.portrait(),
                L.control.browserPrint.mode.auto("Auto", "A4"),
                L.control.browserPrint.mode.custom("Pilih Area", "A4")
            ]
        }).addTo(map);


        /* Tile Basemap */
        var basemapLayers = {
            //Basemap: OpenStreetMap
            layer_OSM: L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',
                subdomains: ['a', 'b', 'c'],
                minZoom: 0,
                maxZoom: 30
            }),
            //Basemap: GoogleMaps
            layer_GoogleMaps: L.tileLayer('https://mt1.google.com/vt/lyrs=s&x={x}&y={y}&z={z}', {
                minZoom: 0,
                maxZoom: 30,
            }),
            //Basemap: StamenTerrainMap
            // layer_ST: L.tileLayer(
            //     'https://stamen-tiles-{s}.a.ssl.fastly.net/terrain/{z}/{x}/{y}{r}.{ext}', {
            //         attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, ' +
            //             '<a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; ' +
            //             'Map data &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',
            //         subdomains: 'abcd',
            //         minZoom: 0,
            //         maxZoom: 30,
            //         ext: 'png'
            //     }),

            //ESRI Basemap
            layer_ESRI_Imagery: L.esri.basemapLayer('Imagery'),
            // layer_ESRI_Topographic: L.esri.basemapLayer('Topographic'),
            // layer_ESRI_Streets: L.esri.basemapLayer('Streets'),
            //RBI Basemap
            // layer_RBI: L.tileLayer(
            //     'https://portal.ina-sdi.or.id/arcgis/rest/services/RBI/INDONESIA/MapServer/tile/{z}/{y}/{x}', {
            //         maxZoom: 30,
            //         attribution: 'RBI 2019 BIG',
            //         bounds: [
            //             [8, 144],
            //             [-15, 90]
            //         ]
            //     })
        };

        map.addLayer(basemapLayers.layer_OSM);

        var basemapLayersCopy = {
            //Basemap: OpenStreetMap
            layer_OSM: L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                subdomains: ['a', 'b', 'c'],
                minZoom: 0,
                maxZoom: 13
            }),

            //Basemap: GoogleMaps
            layer_GoogleMaps: L.tileLayer('https://mt1.google.com/vt/lyrs=s&x={x}&y={y}&z={z}', {
                minZoom: 0,
                maxZoom: 13,
            }),

            //Basemap: StamenTerrainMap
            // layer_ST: L.tileLayer(
            //     'https://stamen-tiles-{s}.a.ssl.fastly.net/terrain/{z}/{x}/{y}{r}.{ext}', {
            //         subdomains: 'abcd',
            //         minZoom: 0,
            //         maxZoom: 13,
            //         ext: 'png'
            //     }),

            //ESRI Basemap
            layer_ESRI_Imagery: L.esri.basemapLayer('Imagery'),
            // layer_ESRI_Topographic: L.esri.basemapLayer('Topographic'),
            // layer_ESRI_Streets: L.esri.basemapLayer('Streets'),

            //RBI Basemap
            // layer_RBI: L.tileLayer(
            //     'https://portal.ina-sdi.or.id/arcgis/rest/services/RBI/INDONESIA/MapServer/tile/{z}/{y}/{x}', {
            //         maxZoom: 13,
            //         bounds: [
            //             [8, 144],
            //             [-15, 90]
            //         ]
            //     })

        };
        /* memanggil data file geojson point */
        $.getJSON("../Data/FasilitasUmum.geojson", function (data) {
            fasum.addData(data);
            map.addLayer(fasum);
            //map.fitBounds(fasum.getBounds());
        });
        //Mengatur Simbol Titik 
        function FasumSimbologi(Title) {
            if (Title == "Masjid") {
                return "assets/img/legend/masjid.png";
            } else if (Title == "Gereja") {
                return "assets/img/legend/gereja.png";
            } else if (Title == "Kantor Pemerintahan") {
                return "assets/img/legend/kantorpemerintah.png";
            } else if (Title == "Industri") {
                return "assets/img/legend/industri.png";
            } else if (Title == "Jasa") {
                return "assets/img/legend/jasa.png";
            } else if (Title == "Kesehatan") {
                return "assets/img/legend/kesehatan.png";
            } else if (Title == "Makam") {
                return "assets/img/legend/makam.png";
            } else if (Title == "Pariwisata") {
                return "assets/img/legend/wisata.png";
            } else if (Title == "Pendidikan") {
                return "assets/img/legend/pendidikan.png";
            } else if (Title == "Warung") {
                return "assets/img/legend/warung.png";
            } else if (Title == "Tower") {
                return "assets/img/legend/tower.png";
            } else if (Title == "Pertokoan") {
                return "assets/img/legend/toko.png";
            } else if (Title == "Rumah Makan") {
                return "assets/img/legend/rumahmakan.png";
            } else if (Title == "Mata Air") {
                return "assets/img/legend/mataair.png";
            } else if (Title == "Pemancingan") {
                return "assets/img/legend/pemancingan.png";
            } else if (Title == "Lahan Terbuka") {
                return "assets/img/legend/lahanterbuka.png";
            } else if (Title == "Perdagangan dan Jasa") {
                return "assets/img/legend/pdj.png";
            } else if (Title == "Perkebunan Campuran") {
                return "assets/img/legend/kebuncampur.png";
            } else {
                return "assets/img/legend/kebunteh.png";
            }
        }
        //Menampilkan Data Titik 
        var fasum = L.geoJson(null, {
            pointToLayer: function (feature, latlng) {
                var smallIcon = new L.Icon({
                    pane: 'pane_fasum',
                    iconSize: [30, 30],
                    iconAnchor: [13, 27],
                    popupAnchor: [1, -24],
                    iconUrl: FasumSimbologi(feature.properties.Title.toString()),
                });
                return L.marker(latlng, {
                    icon: smallIcon,
                });
            },
            onEachFeature: function (feature, layer) {
                /* Variable content untuk memanggil atribut dari data file geojson */
                var content =
                    "Jenis Fasum : " +
                    feature.properties.Title +
                    "<br>" +
                    "Nama Fasum : " +
                    feature.properties.Descriptio +
                    "<br>";

                layer.on({
                    click: function (e) {
                        //Fungsi ketika icon simbol di-klik
                        fasum.bindPopup(content);
                    },

                    mouseover: function (e) {
                        fasum.bindTooltip(feature.properties.Title);
                    },

                    //mouseout: function (e) {
                    //fasum.closePopup();
                    //},
                });
            },
        });
        /* memanggil data file geojson line */
        $.getJSON("../Data/JaringanJalan.geojson", function (data) {
            jalan.addData(data);
            map.addLayer(jalan);
            //map.fitBounds(fasum.getBounds());
        });

        //Menampilkan Data Garis
        var jalan = L.geoJson(null, {
            style: function (feature) {
                if (feature.properties.KELASJLN == "Jalan Lokal") {
                    return {
                        pane: 'pane_jalan',
                        opacity: 1,
                        color: 'red',
                        weight: 2.0,
                    }
                }
                if (feature.properties.KELASJLN == "Jalan Lain") {
                    return {
                        pane: 'pane_jalan',
                        opacity: 1,
                        color: 'red',
                        weight: 1.0,
                    }
                }
                if (feature.properties.KELASJLN == "Jalan Setapak") {
                    return {
                        pane: 'pane_jalan',
                        opacity: 1,
                        color: 'red',
                        weight: 0.5,
                    }
                }
            },

            onEachFeature: function (feature, layer) {
                /* Variable content untuk memanggil atribut dari data file geojson */
                var content =
                    "Lebar Jalan : " +
                    feature.properties.LEBAR +
                    "<br>" +
                    "Kelas Jalan : " +
                    feature.properties.KELASJLN +
                    "<br>";

                layer.on({
                    click: function (e) {
                        //Fungsi ketika icon simbol di-klik
                        jalan.bindPopup(content);
                    },

                    mouseover: function (e) {
                        jalan.bindTooltip(feature.properties.KELASJLN);
                    },

                    //mouseout: function (e) {
                    //fasum.closePopup();
                    //},
                });
            },
        });

        /* memanggil data file geojson area */
        $.getJSON("../Data/BatasPadukuhan.geojson", function (data) {
            BatasDukuh.addData(data);
            map.addLayer(BatasDukuh);
            //map.fitBounds(fasum.getBounds());
        });
        //Deklarasi variabel batas admin
        var BatasDukuh = L.geoJSON(null, {
            style: function (feature) {
                return {
                    pane: 'pane_batasdukuh',
                    weight: 2.0,
                    opacity: 0.5,
                    color: "black",
                    dashArray: '10,5,1,5,1,5',
                    lineCap: 'butt',
                    lineJoin: 'miter',

                };
            },
            onEachFeature: function (feature, layer) {
                var content =
                    "Dukuh: " +
                    feature.properties.nama_dusun +
                    "<br>";

                layer.on({
                    click: function (e) {
                        //Fungsi ketika obyek di klik}
                        BatasDukuh.bindPopup(content);
                    },
                    mouseover: function (e) {
                        //Fungsi mouse berada di atas objek untuk highlight
                        var BatasDukuh = e.target; //variabel layer}
                        BatasDukuh.setStyle({
                            //Highlight style
                            color: "grey", //Warna garis tepi polygon
                            weight: 0.2, //Tebal garis tepi polygon
                            opacity: 1, //Transparansi garis tepi polygon
                            fillColor: "#62f71b", //Warna tengah polygon
                            fillOpacity: 0.4, //Transparansi polygon
                        });
                        BatasDukuh.bindTooltip(feature.properties.nama_dusun);
                    },
                    mouseout: function (e) {
                        //Fungsi mouse keluar dari obyek
                        BatasDukuh.resetStyle(e
                            .target); //Mengembalikan style garis ke style awal
                        map.closePopup(); //Menutup popup
                    },
                });
            },
        });
        map.createPane('pane_batasdukuh');
        map.getPane('pane_batasdukuh').style.zIndex = 400;
        map.getPane('pane_batasdukuh').style['mix-blend-mode'] = 'normal';

        map.createPane('pane_sungai');
        map.getPane('pane_sungai').style.zIndex = 400;
        map.getPane('pane_sungai').style['mix-blend-mode'] = 'normal';

        map.createPane('pane_listrik');
        map.getPane('pane_listrik').style.zIndex = 400;
        map.getPane('pane_listrik').style['mix-blend-mode'] = 'normal';

        map.createPane('pane_jalan');
        map.getPane('pane_jalan').style.zIndex = 400;
        map.getPane('pane_jalan').style['mix-blend-mode'] = 'normal';

        map.createPane('pane_fasum');
        map.getPane('pane_fasum').style.zIndex = 400;
        map.getPane('pane_fasum').style['mix-blend-mode'] = 'normal';


        var overlayMaps = {
            "Fasilitas Umum": fasum,
            "Jaringan Jalan": jalan,
            "Batas Dukuh": BatasDukuh,
        };

        L.control.layers(basemapLayers, overlayMaps, {
            collapsed: true
        }).addTo(map);

        /* Scale Bar */
        L.control.scale({
            maxWidth: 150,
            position: 'bottomright'
        }).addTo(map);
        /* Scale Factor Plugin */
        L.control.scalefactor({
            maxWidth: 250,
            position: 'bottomright'
        }).addTo(map);
        /*cari layer*/
        var searchControl = new L.Control.Search({
            position: "topleft",
            textPlaceholder: 'Cari Padukuhan...',
            layer: BatasDukuh, //Nama variabel layer
            propertyName: 'nama_dusun', //Field untuk pencarian
            marker: false,
            moveToLocation: function (latlng, title, map) {
                var zoom = map.getBoundsZoom(latlng.layer.getBounds());
                map.setView(latlng, zoom);
            }
        });
        searchControl.on('search:locationfound', function (e) {
            e.layer.setStyle({
                fillColor: '#ffff00',
                color: '#0000ff'
            });
        }).on('search:collapsed', function (e) {
            featuresLayer.eachLayer(function (layer) {
                featuresLayer.resetStyle(layer);
            });
        });
        map.addControl(searchControl);

        // Coordinate Position Plugin
        L.control.mousePosition({
            maxWidth: 150,
            position: 'bottomright'
        }).addTo(map);


        var rect1 = {
            color: "#ff1100",
            weight: 2
        };
        var rect2 = {
            color: "#0000AA",
            weight: 1,
            opacity: 0,
            fillOpacity: 0
        };
        var miniMap = new L.Control.MiniMap(basemapLayersCopy.layer_ESRI_Imagery, {
            width: 150,
            height: 150,
            toggleDisplay: true,
            aimingRectOptions: rect1,
            shadowRectOptions: rect2
        }).addTo(map);

        map.on('baselayerchange', function (e) {
            miniMap.changeLayer(basemapLayersCopy[e.name]);
        });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js">
    </script>
</body>

</html>